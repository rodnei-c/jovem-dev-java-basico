package avaliacao.semana1;

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;

import javax.swing.JOptionPane;

import avaliacao.semana1.classes.Cliente;
import avaliacao.semana1.classes.ClientePremium;
import avaliacao.semana1.classes.ItemVenda;
import avaliacao.semana1.classes.Produto;
import avaliacao.semana1.classes.Venda;
import avaliacao.semana1.interfaces.DescontoInterface;

public class Main {

	public static void main(String[] args) {
		
		DateTimeFormatter df = DateTimeFormatter.ofPattern("dd/MM/yyyy");
		
		Cliente c1 = new Cliente(JOptionPane.showInputDialog("Nome do cliente: "),
				LocalDate.parse(JOptionPane.showInputDialog("Data de nascimento: "), df));
		Venda venda = new Venda();
		
		while(true) {
			Produto p1 = new Produto();
			
			p1.setNome(JOptionPane.showInputDialog("Qual produto deseja? "));
			
			if(p1.getNome().equalsIgnoreCase("fim")) {
				break;
			}
			p1.setPreco(Double.parseDouble(JOptionPane.showInputDialog("Informe o pre√ßo do produto: ")));
			p1.setQuant(Integer.parseInt(JOptionPane.showInputDialog("Informe a quantidade que quer: ")));
			
			ItemVenda item = new ItemVenda(p1);
			
			venda.setCliente(c1);
			venda.adicionar(item);			
			
		}
		
		System.out.println(venda.getItens() + "\n" + venda.totalVenda());
		
	}
	
}
